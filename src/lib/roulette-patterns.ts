// Tabela completa dos "NÚMEROS QUE SE PUXAM"
export const numerosPuxam: Record<number, Array<{alvo: number | string, vizinhos: number, tipo?: string, obs?: string}>> = {
  0: [
    { alvo: 19, vizinhos: 1 },
    { alvo: 6, vizinhos: 1 },
    { alvo: 24, vizinhos: 1 },
    { alvo: 28, vizinhos: 1 },
    { alvo: 0, vizinhos: 0, tipo: 'seco' },
    { alvo: 8, vizinhos: 0, tipo: 'seco' }
  ],
  1: [
    { alvo: 11, vizinhos: 1 },
    { alvo: 26, vizinhos: 1 },
    { alvo: 17, vizinhos: 1 },
    { alvo: 1, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 }
  ],
  2: [
    { alvo: 2, vizinhos: 1 },
    { alvo: 22, vizinhos: 1 },
    { alvo: 8, vizinhos: 1 },
    { alvo: 24, vizinhos: 1 }
  ],
  3: [
    { alvo: 'terminal_8', vizinhos: 1 },
    { alvo: 20, vizinhos: 1 }
  ],
  4: [
    { alvo: 4, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 },
    { alvo: 17, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 14, vizinhos: 1 }
  ],
  5: [
    { alvo: 5, vizinhos: 1 },
    { alvo: 34, vizinhos: 1 },
    { alvo: 1, vizinhos: 1 },
    { alvo: 35, vizinhos: 1 }
  ],
  6: [
    { alvo: 4, vizinhos: 1 },
    { alvo: 14, vizinhos: 1 }
  ],
  7: [
    { alvo: 7, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 23, vizinhos: 1 },
    { alvo: 4, vizinhos: 1 },
    { alvo: 20, vizinhos: 1 }
  ],
  8: [
    { alvo: 3, vizinhos: 1 }
  ],
  9: [
    { alvo: 'terminal_1', vizinhos: 1 }
  ],
  10: [
    { alvo: 21, vizinhos: 2 },
    { alvo: 7, vizinhos: 2 },
    { alvo: 10, vizinhos: 2 },
    { alvo: 22, vizinhos: 0 }
  ],
  11: [
    { alvo: 8, vizinhos: 1 },
    { alvo: 14, vizinhos: 1 },
    { alvo: 19, vizinhos: 1 }
  ],
  12: [
    { alvo: 11, vizinhos: 1 },
    { alvo: 6, vizinhos: 1 },
    { alvo: 21, vizinhos: 1 },
    { alvo: 12, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 }
  ],
  13: [
    { alvo: 10, vizinhos: 1 },
    { alvo: 13, vizinhos: 1 },
    { alvo: 29, vizinhos: 1 },
    { alvo: 31, vizinhos: 1 }
  ],
  14: [
    { alvo: 14, vizinhos: 2 },
    { alvo: 17, vizinhos: 1 },
    { alvo: 0, vizinhos: 1 }
  ],
  15: [
    { alvo: 15, vizinhos: 1 },
    { alvo: 20, vizinhos: 2 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 28, vizinhos: 1 }
  ],
  16: [
    { alvo: 'terminal_2', vizinhos: 1 },
    { alvo: 7, vizinhos: 0, tipo: 'seco' },
    { alvo: 29, vizinhos: 0, tipo: 'seco' },
    { alvo: 11, vizinhos: 1 }
  ],
  17: [
    { alvo: 1, vizinhos: 0 },
    { alvo: 17, vizinhos: 0 },
    { alvo: 3, vizinhos: 1 }
  ],
  18: [
    { alvo: 3, vizinhos: 1 }
  ],
  19: [
    { alvo: 4, vizinhos: 2 },
    { alvo: 14, vizinhos: 1 },
    { alvo: 16, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 22, vizinhos: 0, tipo: 'seco' }
  ],
  20: [
    { alvo: 10, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 15, vizinhos: 1 },
    { alvo: 28, vizinhos: 1 },
    { alvo: 20, vizinhos: 1 }
  ],
  21: [
    { alvo: 4, vizinhos: 1 },
    { alvo: 12, vizinhos: 1 },
    { alvo: 14, vizinhos: 1 },
    { alvo: 16, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 }
  ],
  22: [
    { alvo: 22, vizinhos: 1 },
    { alvo: 11, vizinhos: 1 },
    { alvo: 25, vizinhos: 1 },
    { alvo: 24, vizinhos: 1 },
    { alvo: 23, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 }
  ],
  23: [
    { alvo: 23, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 20, vizinhos: 1 },
    { alvo: 4, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 }
  ],
  24: [
    { alvo: 24, vizinhos: 1 },
    { alvo: 22, vizinhos: 1 },
    { alvo: 26, vizinhos: 1 },
    { alvo: 11, vizinhos: 1 },
    { alvo: 2, vizinhos: 1 }
  ],
  25: [
    { alvo: 25, vizinhos: 1 },
    { alvo: 22, vizinhos: 1 },
    { alvo: 27, vizinhos: 1 },
    { alvo: 29, vizinhos: 1 }
  ],
  26: [
    { alvo: 'terminal_1', vizinhos: 1 },
    { alvo: 6, vizinhos: 1 }
  ],
  27: [
    { alvo: 27, vizinhos: 1 },
    { alvo: 20, vizinhos: 1 },
    { alvo: 4, vizinhos: 1 },
    { alvo: 7, vizinhos: 1 }
  ],
  28: [
    { alvo: 3, vizinhos: 1 },
    { alvo: 20, vizinhos: 1 }
  ],
  29: [
    { alvo: 'terminal_1', vizinhos: 1 },
    { alvo: 10, vizinhos: 1 },
    { alvo: 13, vizinhos: 1 },
    { alvo: 26, vizinhos: 1 }
  ],
  30: [
    { alvo: 30, vizinhos: 2 },
    { alvo: 22, vizinhos: 1 },
    { alvo: 25, vizinhos: 1 }
  ],
  31: [
    { alvo: 'terminal_5', vizinhos: 1 },
    { alvo: 13, vizinhos: 1 }
  ],
  32: [
    { alvo: 32, vizinhos: 1 },
    { alvo: 0, vizinhos: 1 },
    { alvo: 8, vizinhos: 1 },
    { alvo: 16, vizinhos: 1 },
    { alvo: 34, vizinhos: 1 },
    { alvo: 28, vizinhos: 1 }
  ],
  33: [
    { alvo: 33, vizinhos: 1 },
    { alvo: 34, vizinhos: 1 },
    { alvo: 0, vizinhos: 1 },
    { alvo: 3, vizinhos: 1 },
    { alvo: 22, vizinhos: 1 },
    { alvo: 11, vizinhos: 1 }
  ],
  34: [
    { alvo: 34, vizinhos: 1 },
    { alvo: 33, vizinhos: 1 },
    { alvo: 31, vizinhos: 1 },
    { alvo: 0, vizinhos: 1 },
    { alvo: 4, vizinhos: 1 }
  ],
  35: [
    { alvo: 6, vizinhos: 1 },
    { alvo: 31, vizinhos: 1 },
    { alvo: 7, vizinhos: 0 }
  ],
  36: [
    { alvo: 36, vizinhos: 2 },
    { alvo: 1, vizinhos: 1 },
    { alvo: 35, vizinhos: 1 },
    { alvo: 21, vizinhos: 1 },
    { alvo: 19, vizinhos: 0, tipo: 'seco' }
  ]
}

// Função para obter vizinhos de um número na roleta
export function getVizinhos(numero: number, quantidade: number): number[] {
  // Layout da roleta europeia
  const roletaLayout = [
    0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10,
    5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26
  ]

  const index = roletaLayout.indexOf(numero)
  if (index === -1) return []

  const vizinhos: number[] = []
  
  for (let i = 1; i <= quantidade; i++) {
    // Vizinho à esquerda
    const leftIndex = (index - i + roletaLayout.length) % roletaLayout.length
    vizinhos.push(roletaLayout[leftIndex])
    
    // Vizinho à direita
    const rightIndex = (index + i) % roletaLayout.length
    vizinhos.push(roletaLayout[rightIndex])
  }

  return vizinhos
}

// Função para obter terminal de um número
export function getTerminal(numero: number): number {
  return numero % 10
}

// Função para obter todos os números com determinado terminal
export function getNumerosComTerminal(terminal: number): number[] {
  const numeros: number[] = []
  for (let i = 0; i <= 36; i++) {
    if (i % 10 === terminal) {
      numeros.push(i)
    }
  }
  return numeros
}

// Função para verificar se dois números pertencem ao mesmo trio
export function mesmoTrio(n1: number, n2: number): boolean {
  const trio1 = Math.floor(n1 / 3)
  const trio2 = Math.floor(n2 / 3)
  return trio1 === trio2
}

// Função para obter o número central de um trio
export function getNumeroCentralTrio(n1: number, n2: number): number | null {
  if (!mesmoTrio(n1, n2)) return null
  
  const trio = Math.floor(n1 / 3)
  const numeroCentral = trio * 3 + 1
  
  // Verifica se o número central está entre n1 e n2
  if ((n1 < numeroCentral && numeroCentral < n2) || (n2 < numeroCentral && numeroCentral < n1)) {
    return numeroCentral
  }
  
  return null
}
